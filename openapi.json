{
  "openapi": "3.0.0",
  "info": {
    "description": "This API gets and orders catalog items from different cloud sources.",
    "version": "1.0.0",
    "title": "Catalog API",
    "contact": {
      "email": "support@redhat.com"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "security": [
    {
      "BasicAuth": []
    }
  ],
  "tags": [
    {
      "name": "Portfolio",
      "description": "Portfolio API calls"
    },
    {
      "name": "PortfolioItem",
      "description": "Portfolio Item API calls"
    },
    {
      "name": "Order",
      "description": "Order API calls"
    },
    {
      "name": "OrderItem",
      "description": "OrderItem API calls"
    }
  ],
  "paths": {
    "/graphql": {
      "post": {
        "summary": "Perform a GraphQL Query",
        "operationId": "postGraphQL",
        "description": "Performs a GraphQL Query",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "The GraphQL query",
                    "default": "{}"
                  },
                  "operationName": {
                    "type": "string",
                    "description": "If the Query contains several named operations, the operationName controls which one should be executed",
                    "default": ""
                  },
                  "variables": {
                    "type": "object",
                    "description": "Optional Query variables",
                    "nullable": true
                  }
                },
                "required": [
                  "query"
                ]
              }
            }
          },
          "description": "GraphQL Query Request",
          "required": true
        },
        "responses": {
          "200": {
            "description": "GraphQL Query Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "description": "Results from the GraphQL query"
                    },
                    "errors": {
                      "type": "array",
                      "description": "Errors resulting from the GraphQL query",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/openapi.json": {
      "get": {
        "summary": "Return this API document in JSON format",
        "operationId": "getDocumentation",
        "responses": {
          "200": {
            "description": "The API document for this version of the API"
          }
        }
      }
    },
    "/portfolios": {
      "get": {
        "tags": [
          "Portfolio"
        ],
        "summary": "List portfolios",
        "operationId": "listPortfolios",
        "description": "Gets a list of portfolios.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a list of portfolios. An empty list indicate either undefined portfolios in the system or inaccessibility to the caller.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfoliosCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Add a new portfolio",
        "operationId": "createPortfolio",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Portfolio"
              }
            }
          },
          "description": "Parameters needed to add a Portfolio",
          "required": true
        },
        "description": "Adds a portfolio.\n",
        "responses": {
          "200": {
            "description": "Succesfully added the new portfolio.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Portfolio"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      }
    },
    "/portfolios/{id}": {
      "get": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Get a specific portfolio",
        "operationId": "showPortfolio",
        "description": "Gets the portfolio specified by the portfolio ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio matching the portfolio ID.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Portfolio"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio not found."
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      },
      "patch": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Edit an existing portfolio",
        "operationId": "updatePortfolio",
        "description": "Returns the edited portfolio.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Portfolio"
              }
            }
          },
          "description": "Parameters needed to update a Portfolio",
          "required": true
        },
        "responses": {
          "200": {
            "description": "Portfolio successfully edited.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Portfolio"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      },
      "delete": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Delete an existing portfolio",
        "operationId": "destroyPortfolio",
        "description": "Deletes the portfolio specified by the ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio Deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreKey"
                }
              }
            }
          },
          "404": {
            "description": "Portfolio Not Found."
          },
          "422": {
            "description": "Failed to discard child portfolio items."
          }
        }
      }
    },
    "/portfolios/{portfolio_id}/portfolio_items": {
      "get": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Get all portfolio items from a specific portfolio",
        "operationId": "fetchPortfolioItemsWithPortfolio",
        "description": "Gets all portfilio items in the portfolio specified by the given ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          },
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a list of portfolio items. An empty list is returned if the portfolio is not connected to any portfolio items.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItemsCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio not found"
          }
        }
      },
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Add a portfolio item to a portfolio",
        "operationId": "addPortfolioItemToPortfolio",
        "description": "Adds a new portfolio item to an existing portfolio.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully added a portfolio item to the portfolio."
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The portfolio or the portfolio item was not found."
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddPortfolioItem"
              }
            }
          },
          "required": true
        }
      }
    },
    "/portfolios/{portfolio_id}/share": {
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Share a portfolio with one or more groups with specific permission",
        "operationId": "sharePortfolio",
        "description": "Share a Portfolio with one or more groups with specific permissions\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SharePolicy"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successfully shared the portfolio"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The Portfolio Object was not found."
          },
          "422": {
            "description": "One or more of the RBAC groups was not found"
          }
        }
      }
    },
    "/portfolios/{portfolio_id}/unshare": {
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Unshare a portfolio from one or more groups with specific permission",
        "operationId": "unsharePortfolio",
        "description": "Unshare a Portfolio with one or more groups with specific permissions\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnsharePolicy"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successfully unshared portfolio"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The Portfolio Object or the one or more of the groups was not found."
          }
        }
      }
    },
    "/portfolios/{portfolio_id}/share_info": {
      "get": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Fetch share information about this portfolio, the response would include a collection of groups and permissions with each group",
        "operationId": "share_info",
        "description": "Fetch share information about a portfolio\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns an array of group uuid, name and permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ShareInfo"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The Portfolio object not found"
          }
        }
      }
    },
    "/portfolios/{portfolio_id}/copy": {
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Make a copy of the Portfolio",
        "operationId": "postCopyPortfolio",
        "description": "Make a copy of the Portfolio.",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioID"
          }
        ],
        "responses": {
          "200": {
            "description": "The new Portfolio",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Portfolio"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio  not found"
          },
          "500": {
            "description": "Failed to copy Portfolio"
          }
        }
      }
    },
    "/portfolios/{id}/undelete": {
      "post": {
        "tags": [
          "Portfolio"
        ],
        "summary": "Undelete specific portfolio",
        "operationId": "unDeletePortfolio",
        "description": "Undeletes the portfolio specified by the portfolio ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The undeleted portfolio",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Portfolio"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio not found."
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreKey"
              }
            }
          },
          "required": true
        }
      }
    },
    "/portfolio_items": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "List all portfolio items",
        "operationId": "listPortfolioItems",
        "description": "Gets a list of portfolio items.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully returned a list of portfolio items.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItemsCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Add a new portfolio item",
        "operationId": "createPortfolioItem",
        "description": "Adds a name and description for a portfolio item and returns the newly created portfolio item.\n",
        "responses": {
          "200": {
            "description": "The newly created portfolio item.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Service Offering not found."
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePortfolioItem"
              }
            }
          },
          "required": true
        }
      }
    },
    "/portfolio_items/{id}": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Gets a specific portfolio item",
        "operationId": "showPortfolioItem",
        "description": "Gets a specific portfolio item based on the portfolio item ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio item specified by the given ID.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The portfolio item ID was not found"
          }
        }
      },
      "delete": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Delete an existing portfolio item",
        "operationId": "destroyPortfolioItem",
        "description": "Deletes the portfolio item based on portfolio item ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio item deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreKey"
                }
              }
            }
          },
          "404": {
            "description": "Portfolio item not found."
          }
        }
      },
      "patch": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Edit an existing portfolio item",
        "description": "Edits portfolio item specified by the given ID.",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PortfolioItem"
              }
            }
          },
          "description": "Parameters needed to update a Portfolio Item",
          "required": true
        },
        "operationId": "updatePortfolioItem",
        "responses": {
          "200": {
            "description": "Return the updated portfolio item object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The portfolio item ID was not found"
          }
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/service_plans": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Gets all service plans for a specific portfolio item; requires a connection to the topology service.",
        "operationId": "listServicePlans",
        "description": "Gets all service plans for a portfolio item.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "All Service Plans",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ServicePlan"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio item not found"
          },
          "500": {
            "description": "Could not access the Topology Service"
          }
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/provider_control_parameters": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Gets the provider control parameters for this portfolio item; requires control paramaters provided when provisioning the portfolio item.",
        "operationId": "listProviderControlParameters",
        "description": "Gets the provider control parameters for a portfolio item.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "Return provider control parameters JSON object.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderControlParameters"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio item not found"
          },
          "500": {
            "description": "Could not access the Topology Service"
          }
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/undelete": {
      "post": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Undelete a specified Portfolio Item",
        "description": "If a record has been discarded, this operation will undelete it so it can be requested normally.",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "The undeleted Portfolio Item",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio Item not found"
          },
          "500": {
            "description": "Failed to undelete Portfolio Item"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreKey"
              }
            }
          },
          "required": true
        }
      }
    },
    "/orders": {
      "get": {
        "tags": [
          "Order"
        ],
        "summary": "Get a list of orders",
        "operationId": "listOrders",
        "description": "Gets a list of orders associated with the logged in user.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "The list of orders.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrdersCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Order"
        ],
        "summary": "Create a new order",
        "operationId": "createOrder",
        "description": "Creates a new order.\n",
        "responses": {
          "200": {
            "description": "Returns a newly created order.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Order"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/orders/{id}": {
      "delete": {
        "tags": [
          "Order"
        ],
        "summary": "Delete an existing Order",
        "operationId": "destroyOrder",
        "description": "Deletes the Order based on order ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Order deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreKey"
                }
              }
            }
          },
          "404": {
            "description": "Order not found."
          }
        }
      }
    },
    "/orders/{order_id}/order_items": {
      "get": {
        "tags": [
          "Order"
        ],
        "summary": "Gets a list of items in a given order",
        "operationId": "listOrderItemsFromOrder",
        "description": "Gets a list of items associated with an order.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderID"
          },
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a OrderItemsCollection object with an embedded array of OrderIem objects",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderItemsCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Order"
        ],
        "summary": "Add an order item to an order in pending state",
        "operationId": "addToOrder",
        "description": "Adds an order item to an order in pending state\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully added an item to order"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order not found."
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrderItem"
              }
            }
          },
          "required": true
        }
      }
    },
    "/orders/{order_id}/order_items/{id}": {
      "get": {
        "tags": [
          "Order"
        ],
        "summary": "Gets an individual order item from a given order",
        "operationId": "showOrderItemFromOrder",
        "description": "Gets an order item associated with an order.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderID"
          },
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a single OrderIem object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Either the order or the order item could not be found."
          }
        }
      }
    },
    "/orders/{order_id}/submit_order": {
      "post": {
        "tags": [
          "Order"
        ],
        "summary": "Submit a given order",
        "operationId": "submitOrder",
        "description": "Returns an updated order.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderID"
          }
        ],
        "responses": {
          "200": {
            "description": "Updated order object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Order"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order not found"
          }
        }
      }
    },
    "/orders/{order_id}/cancel": {
      "patch": {
        "tags": [
          "Order"
        ],
        "summary": "Cancels a given order",
        "operationId": "cancelOrder",
        "description": "Returns an updated order.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderID"
          }
        ],
        "responses": {
          "200": {
            "description": "Updated order object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Order"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order not found"
          },
          "422": {
            "$ref": "#/components/responses/UnprocessableEntity"
          }
        }
      }
    },
    "/orders/{id}/restore": {
      "post": {
        "tags": [
          "Order"
        ],
        "summary": "Restore specific Order",
        "operationId": "restoreOrder",
        "description": "Restores the order specified by the order ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The restored order",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Order"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order not found."
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreKey"
              }
            }
          },
          "required": true
        }
      }
    },
    "/order_items": {
      "get": {
        "tags": [
          "OrderItem"
        ],
        "summary": "List Order Items",
        "operationId": "listOrderItems",
        "description": "Gets a list of order items.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a list of order items. An empty list indicate either undefined orders in the system or inaccessibility to the caller.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderItemsCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/order_items/{id}": {
      "get": {
        "tags": [
          "OrderItem"
        ],
        "summary": "Gets a specific order item",
        "operationId": "showOrderItem",
        "description": "Gets a specific order item based on the order item ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Order item specified by the given ID.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "The Order item ID was not found"
          }
        }
      },
      "delete": {
        "tags": [
          "OrderItem"
        ],
        "summary": "Delete an existing OrderItem",
        "operationId": "destroyOrderItem",
        "description": "Deletes the order item  based on order item ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Order item deleted.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreKey"
                }
              }
            }
          },
          "404": {
            "description": "Order item not found."
          }
        }
      }
    },
    "/order_items/{id}/restore": {
      "post": {
        "tags": [
          "OrderItem"
        ],
        "summary": "Restore specific Order item",
        "operationId": "restoreOrderItem",
        "description": "Restores the order item specified by the order item ID.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The restored order item",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrderItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order item not found."
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreKey"
              }
            }
          },
          "required": true
        }
      }
    },
    "/order_items/{order_item_id}/progress_messages": {
      "get": {
        "tags": [
          "OrderItem"
        ],
        "summary": "Gets a list of progress messages in an item",
        "operationId": "listProgressMessages",
        "description": "Gets a list of progress messages associated with an order item. As the item is being processed the provider can update the progress messages.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderItemID"
          },
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a ProgressMessagesCollection object with an embedded array of ProgressMessage objects",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProgressMessagesCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order item not found"
          }
        }
      }
    },
    "/order_items/{order_item_id}/approval_requests": {
      "get": {
        "tags": [
          "OrderItem"
        ],
        "summary": "Gets a list of approval requests for an item",
        "operationId": "listApprovalRequests",
        "description": "Gets a list of approval request associated with an order item. As the item is being approved one can check the status of the approvals.\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/OrderItemID"
          },
          {
            "$ref": "#/components/parameters/QueryLimit"
          },
          {
            "$ref": "#/components/parameters/QueryOffset"
          },
          {
            "$ref": "#/components/parameters/QueryFilter"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a ApprovalRequestCollection object with an embedded array of ProgressMessage objects",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalRequestsCollection"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Order item not found"
          }
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/icon": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Fetches the specified portfolio item's icon image",
        "operationId": "showPortfolioItemIcon",
        "description": "Fetch the specified portfolio item's icon image.",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio Item Icon",
            "content": {
              "image/svg+xml": {
                "example": "<svg rel=\"stylesheet\">thing</svg>"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon Not Found/Not Present on Portfolio Item"
          },
          "500": {
            "description": "Could not access the Topology Service"
          }
        }
      },
      "post": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Add an Icon to a Portfolio Item",
        "operationId": "addIconToPortfolioItem",
        "description": "Add an Icon to a Portfolio Item",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "The added Icon",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Icon"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon not found"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddIcon"
              }
            }
          },
          "required": true
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/copy": {
      "post": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Make a copy of the Portfolio Item",
        "operationId": "postCopyPortfolioItem",
        "description": "Make a copy of the Portfolio Item.",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          }
        ],
        "responses": {
          "200": {
            "description": "The new Portfolio Item",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItem"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio Item not found"
          },
          "422": {
            "description": "Portfolio not found"
          },
          "500": {
            "description": "Failed to copy Portfolio Item"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CopyPortfolioItem"
              }
            }
          },
          "required": false
        }
      }
    },
    "/icons": {
      "post": {
        "tags": [
          "Icon"
        ],
        "summary": "Create an Icon",
        "description": "Creates an Icon from the specified parameters",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Icon"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The newly created Icon",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Icon"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/icons/{id}": {
      "get": {
        "tags": [
          "Icon"
        ],
        "summary": "Fetch an Icon by ID",
        "description": "Fetch an Icon by ID",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The Icon matching the Icon ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Icon"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon not found"
          }
        }
      },
      "patch": {
        "tags": [
          "Icon"
        ],
        "summary": "Edit an existing Icon",
        "description": "Edits Icon specified by the given ID.",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Icon"
              }
            }
          },
          "description": "Parameters needed to update an Icon",
          "required": true
        },
        "operationId": "updateIcon",
        "responses": {
          "200": {
            "description": "Return the updated Icon object",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Icon"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon not found."
          }
        }
      },
      "delete": {
        "tags": [
          "Icon"
        ],
        "summary": "Delete an existing Icon",
        "operationId": "destroyIcon",
        "description": "Deletes the icon based on the icon ID passed\n",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Icon deleted."
          },
          "404": {
            "description": "Icon not found."
          }
        }
      }
    },
    "/icons/{id}/icon_data": {
      "get": {
        "tags": [
          "Icon"
        ],
        "summary": "Fetches the specified icon's image",
        "operationId": "showIconData",
        "description": "Fetch the specified portfolio item's icon image.",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Portfolio Item Icon",
            "content": {
              "image/svg+xml": {
                "example": "<svg rel=\"stylesheet\">thing</svg>"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon Not Found."
          }
        }
      }
    },
    "/icons/{id}/override": {
      "post": {
        "tags": [
          "Icon"
        ],
        "summary": "Override the specified Portfolio Item's Icon",
        "operationId": "overrideIcon",
        "description": "Override the specified Portfolio Item's Icon",
        "parameters": [
          {
            "$ref": "#/components/parameters/ID"
          }
        ],
        "responses": {
          "200": {
            "description": "The new Icon",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Icon"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Icon Not Found."
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OverrideIcon"
              }
            }
          }
        }
      }
    },
    "/portfolio_items/{portfolio_item_id}/next_name": {
      "get": {
        "tags": [
          "PortfolioItem"
        ],
        "summary": "Get the next name for a the Portfolio Item prior to a copy operation",
        "operationId": "getPortfolioItemNextName",
        "description": "Get the next name for a the Portfolio Item prior to a copy operation",
        "parameters": [
          {
            "$ref": "#/components/parameters/PortfolioItemID"
          },
          {
            "$ref": "#/components/parameters/DestinationPortfolioID"
          }
        ],
        "responses": {
          "200": {
            "description": "The Portfolio Item next name",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PortfolioItemNextName"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "Portfolio Item not found"
          }
        }
      }
    },
    "/settings": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "List Tenant Settings",
        "description": "List Tenant Settings",
        "operationId": "listSettings",
        "responses": {
          "200": {
            "description": "The current tenant settings and schema",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TenantSettings"
                },
                "example": "{\n  \"current\": {\n    \"default_workflow\": \"2\",\n    \"icon\": \"<svg rel='stylesheet'>thing</svg>\"\n  },\n  \"schema\": {}\n}\n"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Settings"
        ],
        "summary": "Create Tenant Setting",
        "description": "Create Tenant Setting",
        "operationId": "createSetting",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Setting"
              }
            }
          },
          "description": "Json encoded key/value pair to create a new setting",
          "required": true
        },
        "responses": {
          "200": {
            "description": "Succesfully added the new setting.",
            "content": {
              "application/json": {
                "example": "{ \n  \"default_workflow\": \"2\" \n} \n"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      }
    },
    "/settings/{name}": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "Get a specific Tenant Setting",
        "description": "Get a specific Tenant Setting",
        "operationId": "showSetting",
        "parameters": [
          {
            "$ref": "#/components/parameters/SettingName"
          }
        ],
        "responses": {
          "200": {
            "description": "The requested Tenant Setting",
            "content": {
              "application/json": {
                "example": "{ \n  \"default_workflow\": \"2\" \n} \n"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      },
      "patch": {
        "tags": [
          "Settings"
        ],
        "summary": "Update a Tenant Setting",
        "description": "Update a Tenant Setting",
        "operationId": "updateSetting",
        "parameters": [
          {
            "$ref": "#/components/parameters/SettingName"
          }
        ],
        "responses": {
          "200": {
            "description": "The updated Tenant Setting",
            "content": {
              "application/json": {
                "example": "{ \n  \"default_workflow\": \"2\" \n} \n"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      },
      "delete": {
        "tags": [
          "Settings"
        ],
        "summary": "Delete a Tenant Setting",
        "description": "Delete a Tenant Setting",
        "operationId": "destroySetting",
        "parameters": [
          {
            "$ref": "#/components/parameters/SettingName"
          }
        ],
        "responses": {
          "204": {
            "description": "Tenant Setting successfully deleted."
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "422": {
            "$ref": "#/components/responses/InvalidEntity"
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "https://cloud.redhat.com/{basePath}",
      "description": "Production Server",
      "variables": {
        "basePath": {
          "default": "/api/catalog/v1.0"
        }
      }
    },
    {
      "url": "http://localhost:{port}/{basePath}",
      "description": "Development Server",
      "variables": {
        "port": {
          "default": "3000"
        },
        "basePath": {
          "default": "/api/catalog/v1.0"
        }
      }
    }
  ],
  "components": {
    "parameters": {
      "ID": {
        "name": "id",
        "in": "path",
        "description": "ID of the resource",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "PortfolioID": {
        "name": "portfolio_id",
        "in": "path",
        "description": "The Portfolio ID",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "PortfolioItemID": {
        "name": "portfolio_item_id",
        "in": "path",
        "description": "The Portfolio Item ID",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "OrderID": {
        "name": "order_id",
        "in": "path",
        "description": "The Order ID",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "OrderItemID": {
        "name": "order_item_id",
        "in": "path",
        "description": "The Order Item ID",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "DestinationPortfolioID": {
        "in": "query",
        "name": "destination_portfolio_id",
        "description": "The destination portfolio to compare names against",
        "required": false,
        "schema": {
          "type": "string",
          "pattern": "^\\d+$"
        }
      },
      "SettingName": {
        "name": "name",
        "in": "path",
        "description": "name of the setting",
        "required": true,
        "schema": {
          "type": "string"
        }
      },
      "QueryLimit": {
        "in": "query",
        "name": "limit",
        "required": false,
        "description": "The numbers of items to return per page.",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000,
          "default": 100
        }
      },
      "QueryOffset": {
        "in": "query",
        "name": "offset",
        "required": false,
        "description": "The number of items to skip before starting to collect the result set.",
        "schema": {
          "type": "integer",
          "minimum": 0,
          "default": 0
        }
      },
      "QueryFilter": {
        "in": "query",
        "name": "filter",
        "description": "Filter for querying collections.",
        "required": false,
        "style": "deepObject",
        "explode": true,
        "schema": {
          "type": "object"
        }
      }
    },
    "responses": {
      "InvalidEntity": {
        "description": "The entity being created does not have either all the required parameters specified or the parameter value is invalid."
      },
      "Forbidden": {
        "description": "The caller is forbidden to perform the action."
      },
      "Unauthorized": {
        "description": "The caller is not authorized to access this resource."
      },
      "UnprocessableEntity": {
        "description": "The entity is currently in a state that does not allow the requested action"
      }
    },
    "requestBodies": {
      "Portfolio": {
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Portfolio"
            }
          }
        },
        "required": true
      }
    },
    "securitySchemes": {
      "BasicAuth": {
        "type": "http",
        "description": "The userid/password is needed when accessing this API externally",
        "scheme": "basic"
      }
    },
    "schemas": {
      "Portfolio": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "name": {
            "type": "string",
            "title": "Name",
            "example": "Sample Portfolio"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "example": "This is a sample description for a portfolio."
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": false,
            "example": false
          },
          "image_url": {
            "type": "string",
            "title": "Image URL",
            "format": "url",
            "example": "The public facing image url for a portfolio."
          },
          "workflow_ref": {
            "type": "string",
            "title": "Approval Workflow ID",
            "example": "The current approval workflow selected for a portfolio"
          },
          "owner": {
            "type": "string",
            "title": "Owner",
            "example": "jdoe",
            "readOnly": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created at",
            "readOnly": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated at",
            "readOnly": true
          }
        }
      },
      "CreatePortfolioItem": {
        "type": "object",
        "properties": {
          "service_offering_ref": {
            "type": "string",
            "title": "Service Offering Ref",
            "description": "The service offering ref should be retrieved from a call to the Topology Service.",
            "example": "177"
          }
        }
      },
      "AddPortfolioItem": {
        "type": "object",
        "properties": {
          "portfolio_item_id": {
            "type": "string",
            "title": "Portfolio Item Id",
            "example": "100",
            "description": "This is the ID of the portfolio item object."
          }
        }
      },
      "CopyPortfolioItem": {
        "type": "object",
        "properties": {
          "portfolio_id": {
            "type": "string",
            "title": "Portfolio ID",
            "example": "2",
            "description": "The portfolio to place the new copy of the Portfolio Item in"
          },
          "portfolio_item_name": {
            "type": "string",
            "title": "Portfolio Item Name",
            "example": "nginx copy",
            "description": "The name of the copied portfolio item"
          }
        }
      },
      "RestoreKey": {
        "type": "object",
        "properties": {
          "restore_key": {
            "type": "string",
            "readOnly": true,
            "title": "Restore Key",
            "example": "3c1d765c1453916143e517bfc27b57ace3da693c"
          }
        }
      },
      "PortfolioItemNextName": {
        "type": "object",
        "properties": {
          "next_name": {
            "type": "string",
            "readOnly": true,
            "title": "Next Name",
            "example": "Copy of Nginx"
          }
        }
      },
      "AddIcon": {
        "type": "object",
        "properties": {
          "icon_id": {
            "type": "string",
            "title": "Icon Id",
            "example": "100",
            "description": "This is the ID of the icon object."
          }
        }
      },
      "Setting": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Setting Name",
            "example": "default_workflow"
          },
          "value": {
            "type": "string",
            "title": "Setting Value",
            "example": 2
          }
        }
      },
      "OverrideIcon": {
        "type": "object",
        "properties": {
          "portfolio_item_id": {
            "type": "string",
            "title": "Portfolio Item ID",
            "example": "100",
            "description": "Tthe ID of the portfolio which the icon will override"
          }
        }
      },
      "PortfolioItem": {
        "type": "object",
        "required": [
          "name",
          "display_name",
          "service_offering_source_ref"
        ],
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "favorite": {
            "type": "boolean",
            "title": "Favorite",
            "example": "Definition of a favorite portfolio item"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "example": "Name of the portfolio item"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "example": "Description of a portfolio item"
          },
          "orphan": {
            "type": "boolean",
            "readOnly": true,
            "title": "Orphan",
            "example": "Boolean if an associated catalog item no longer exists"
          },
          "state": {
            "type": "string",
            "readOnly": true,
            "title": "State",
            "example": "The current state of a portfolio item"
          },
          "display_name": {
            "type": "string",
            "readOnly": true,
            "title": "Display Name",
            "example": "The name of the portfolio item to be displayed in the UI"
          },
          "long_description": {
            "type": "string",
            "readOnly": true,
            "title": "Long Description",
            "example": "The longer description of a portfolio item"
          },
          "distributor": {
            "type": "string",
            "readOnly": true,
            "title": "Distributor",
            "example": "The name of the provider for this Item"
          },
          "documentation_url": {
            "type": "string",
            "readOnly": true,
            "title": "Documentation URL",
            "example": "The URL for documentation of the portfolio item"
          },
          "support_url": {
            "type": "string",
            "readOnly": true,
            "title": "Support URL",
            "example": "The URL for finding support for the portfolio item"
          },
          "workflow_ref": {
            "type": "string",
            "title": "Approval Workflow ID",
            "example": "The approval workflow selected for a portfolio item"
          },
          "owner": {
            "type": "string",
            "title": "Owner",
            "example": "jdoe",
            "readOnly": true
          },
          "service_offering_source_ref": {
            "type": "string",
            "title": "Service Offering Source Ref",
            "description": "The source reference this product was created from",
            "readOnly": true,
            "example": "20"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created at",
            "readOnly": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated at",
            "readOnly": true
          }
        }
      },
      "Order": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "user_id": {
            "type": "string",
            "readOnly": true
          },
          "state": {
            "type": "string",
            "enum": [
              "Created",
              "Approval Pending",
              "Ordered",
              "Failed",
              "Completed",
              "Canceled"
            ],
            "title": "State",
            "description": "Current State of the order."
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created at"
          },
          "order_request_sent_at": {
            "type": "string",
            "format": "date-time",
            "title": "Order request sent at",
            "description": "The time at which the order request was sent to the Topology Service"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Completed at"
          },
          "owner": {
            "type": "string",
            "title": "Owner",
            "example": "jdoe",
            "readOnly": true
          }
        }
      },
      "OrderItem": {
        "type": "object",
        "required": [
          "service_parameters",
          "count",
          "service_plan_ref",
          "portfolio_item_id",
          "provider_control_parameters"
        ],
        "properties": {
          "id": {
            "type": "string",
            "readOnly": true
          },
          "count": {
            "type": "integer",
            "default": 1,
            "title": "Item Count"
          },
          "service_parameters": {
            "type": "object",
            "title": "JSON object with provisioning parameters"
          },
          "provider_control_parameters": {
            "type": "object",
            "title": "Provider Control Parameters",
            "description": "The provider specific parameters needed to provision this service. This might include namespaces, special keys."
          },
          "service_plan_ref": {
            "type": "string",
            "title": "The Service Plan ref",
            "description": "Stores the service plan ref from the Topology Service."
          },
          "portfolio_item_id": {
            "type": "string",
            "title": "Portfolio Item ID",
            "description": "Stores the Portfolio Item ID."
          },
          "state": {
            "type": "string",
            "enum": [
              "Created",
              "Approval Pending",
              "Ordered",
              "Failed",
              "Completed",
              "Approved",
              "Denied"
            ],
            "title": "State",
            "description": "Current state of this order item.",
            "readOnly": true
          },
          "order_id": {
            "type": "string",
            "title": "Order ID",
            "description": "The Order that the OrderItem belongs to."
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created at",
            "readOnly": true
          },
          "order_request_sent_at": {
            "type": "string",
            "format": "date-time",
            "title": "Order request sent at",
            "description": "The time at which the order request was sent to the Topology Service",
            "readOnly": true
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Completed at",
            "readOnly": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Completed at",
            "readOnly": true
          },
          "owner": {
            "type": "string",
            "title": "Owner",
            "example": "jdoe",
            "readOnly": true
          },
          "external_url": {
            "type": "string",
            "title": "External url",
            "description": "The external url of the service instance used with relation to this order item"
          },
          "insights_request_id": {
            "type": "string",
            "title": "Insights Request ID ",
            "example": "364498f142194beba576833d7303abe5",
            "description": "The insights request id can be used to collect log data for this order item as its processed by the system",
            "readOnly": true
          }
        }
      },
      "ApprovalRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "ID",
            "description": "The unique identifier for this approval request.",
            "readOnly": true
          },
          "approval_request_ref": {
            "type": "string",
            "title": "Approval Request Ref",
            "description": "The id of the approval submitted to approval-api",
            "readOnly": true
          },
          "order_item_id": {
            "type": "string",
            "title": "Order Item ID",
            "description": "The Order Item which the approval request belongs to",
            "readOnly": true
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "The reason for the current state.",
            "readOnly": true
          },
          "state": {
            "type": "string",
            "title": "State",
            "enum": [
              "undecided",
              "approved",
              "denied",
              "canceled"
            ],
            "description": "The state of the approval request (approved, denied, undecided, canceled)",
            "readOnly": true
          },
          "workflow_ref": {
            "type": "string",
            "title": "Workflow Ref",
            "description": "The workflow that was requested",
            "readOnly": true
          }
        }
      },
      "Icon": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "ID",
            "description": "The unique identifier for this Service Offering Icon",
            "readOnly": true
          },
          "image_id": {
            "type": "string",
            "title": "Image ID",
            "description": "The Image reference containing the binary image data for this icon",
            "readOnly": false
          },
          "source_ref": {
            "type": "string",
            "title": "Source Ref",
            "description": "Stores the Source Ref for this icon",
            "readOnly": true
          },
          "source_id": {
            "type": "string",
            "title": "Source ID",
            "description": "The source ID for this icon",
            "readOnly": true
          }
        }
      },
      "Image": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "ID",
            "description": "The unique identifier for this Service Offering Icon",
            "readOnly": true
          }
        }
      },
      "ProgressMessage": {
        "type": "object",
        "properties": {
          "received_at": {
            "type": "string",
            "format": "date-time",
            "title": "Message Received At",
            "readOnly": true
          },
          "level": {
            "type": "string",
            "readOnly": true,
            "enum": [
              "info",
              "error",
              "warning",
              "debug"
            ]
          },
          "message": {
            "type": "string",
            "example": "This is a sample message",
            "title": "Message",
            "readOnly": true
          },
          "order_item_id": {
            "type": "string",
            "title": "Order Item ID",
            "readOnly": true,
            "format": "uuid"
          }
        }
      },
      "ServicePlan": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "The name of the service plan.",
            "readOnly": true
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "The service plan description.",
            "readOnly": true
          },
          "service_offering_id": {
            "type": "string",
            "title": "Service Offering ID",
            "description": "The reference ID of the service offering",
            "readOnly": true
          },
          "id": {
            "type": "string",
            "title": "ID",
            "description": "The unique identifier for this service plan.",
            "readOnly": true
          },
          "create_json_schema": {
            "type": "object",
            "title": "JSON Schema",
            "description": "JSON schema for the object.",
            "readOnly": true
          }
        }
      },
      "PortfoliosCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Portfolio"
            }
          }
        }
      },
      "PortfolioItemsCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PortfolioItem"
            }
          }
        }
      },
      "OrdersCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Order"
            }
          }
        }
      },
      "OrderItemsCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            }
          }
        }
      },
      "ApprovalRequestsCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApprovalRequest"
            }
          }
        }
      },
      "ProgressMessagesCollection": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/CollectionMetadata"
          },
          "links": {
            "$ref": "#/components/schemas/CollectionLinks"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProgressMessage"
            }
          }
        }
      },
      "CollectionLinks": {
        "type": "object",
        "properties": {
          "first": {
            "type": "string",
            "title": "First Link",
            "description": "The link to fetch the first group of items in the result set"
          },
          "last": {
            "type": "string",
            "title": "Last Link",
            "description": "The link to fetch the last group of items in the result set"
          },
          "prev": {
            "type": "string",
            "title": "Previous Link",
            "description": "The link to fetch the previous group of items in the result set"
          },
          "next": {
            "type": "string",
            "title": "Next Link",
            "description": "The link to fetch the next group of items in the result set"
          }
        }
      },
      "CollectionMetadata": {
        "type": "object",
        "properties": {
          "count": {
            "type": "integer",
            "title": "Total number of items in the result set",
            "description": "Total number of items in the result set, of which only a subset is returned, defined by the QueryLimit parameter."
          }
        }
      },
      "ProviderControlParameters": {
        "type": "object",
        "title": "Provider Control Parameters",
        "description": "JSON Schema for Provider control parameters."
      },
      "TenantSettings": {
        "type": "object",
        "title": "Tenant Settings",
        "description": "The tenant settings and schema",
        "properties": {
          "current": {
            "type": "object",
            "title": "Current Settings",
            "description": "The current settings for this tenant"
          },
          "schema": {
            "$ref": "#/components/schemas/TenantSettingsSchema"
          }
        }
      },
      "TenantSettingsSchema": {
        "type": "object",
        "title": "Tenant Settings Schema",
        "description": "JSON Schema for the Tenant Settings"
      },
      "SharePolicy": {
        "type": "object",
        "required": [
          "permissions",
          "group_uuids"
        ],
        "properties": {
          "permissions": {
            "type": "array",
            "title": "Name",
            "description": "The permissions to apply for this share. Each permission comprises of 3 parts catalog:portfolios:verb separated by :. The valid verbs are read, write and order",
            "items": {
              "type": "string",
	      "enum": ["catalog:portfolios:read", "catalog:portfolios:write", "catalog:portfolios:order"]
            },
            "example": ["catalog:portfolios:read", "catalog:portfolios:write", "catalog:portfolios:order"]
          },
          "group_uuids": {
            "type": "array",
            "title": "The Group UUIDs",
            "description": "An array of group UUID's retrieved from the RBAC Service with whom the resource has to be shared.",
            "items": {
              "type": "string"
            },
	    "minItems": 1
          }
        }
      },
      "UnsharePolicy": {
        "type": "object",
        "required": [
          "permissions"
        ],
        "properties": {
          "permissions": {
            "type": "array",
            "title": "Name",
            "description": "The permissions to remove for this resource.",
            "items": {
              "type": "string",
	      "enum": ["catalog:portfolios:read", "catalog:portfolios:write", "catalog:portfolios:order"]
            }
          },
          "group_uuids": {
            "type": "array",
            "title": "The Group UUIDs",
            "description": "An array of group UUID's retrieved from the RBAC Service from which the permissions have to be removed. If group uuids are not specified we will unshare it from all groups.",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ShareInfo": {
        "type": "object",
        "properties": {
          "group_uuid": {
            "type": "string",
            "title": "The Group UUID",
            "description": "The Group UUID"
          },
          "group_name": {
            "type": "string",
            "title": "The Group Name",
            "description": "The Group Name"
          },
          "permissions": {
            "type": "array",
            "title": "Permissions",
            "description": "One or more permissions currently applied to this group.",
            "items": {
              "type": "string",
	      "enum": ["catalog:portfolios:read", "catalog:portfolios:write", "catalog:portfolios:order"]
            }
          }
        }
      }
    }
  }
}
